# 设计目标

## 功能需求

认证

加密

存储

单聊

群聊

多媒体消息：文本、表情、文件、图片、视频、语音、位置

## 非功能需求

### 性能指标

延时：1秒内

到达率：100%



### 高并发：吞吐

#### 负载均衡

#### 集群化：服务拆分

#### 缓存

#### 消息队列

#### 水平分表

#### 线程池

### 高性能：局部高效

#### 原子操作

#### 零拷贝

#### 流量压缩

### 高可用：故障容灾

#### 水平复制的秘诀：无状态设计

#### 容灾的秘诀：双击主备

#### 运维神器：KeepAlive和Haproxy

#### 故障恢复

##### 链路监控

##### 基础设施监控

##### 业务监控



# 十万级

TeamTalk



# 百万级

CoffeeChat



##### 